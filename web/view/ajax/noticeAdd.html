<div class="row">
    <div id="breadcrumb" class="col-md-12">
        <ol class="breadcrumb">
            <li><a href="#">用户管理</a></li>
            <li><a href="#">用户资料录入</a></li>
        </ol>
    </div>
</div>
<div class="row">
    <div class="col-xs-12 col-sm-12">
        <div class="box">
            <div class="box-header">
                <div class="box-icons">
                    <a class="expand-link">
                        <i class="fa fa-expand"></i>
                    </a>
                </div>
                <div class="no-move"></div>
            </div>
            <div class="box-content">
                <form id="adduserForm" method="post" action="/oa/notice/add" enctype="multipart/form-data"
                      class="form-horizontal">
                    <fieldset>
                        <legend>基本信息</legend>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">公告标题</label>

                            <div class="col-sm-6">
                                <input type="text" class="form-control" name="title"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">公告描述</label>

                            <div class="col-sm-6">
                                <textarea class="form-control" name="description" id="" rows="5"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">公告详情</label>

                            <div class="col-sm-6">
                                <textarea class="form-control" name="detail" rows="5" id="wysiwig_simple"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">公告图片</label>
                            <div class="col-sm-6">
                                <input type="file" class="form-control" name="file">
                            </div>
                        </div>
                        <div class="form-group has-feedback">
                            <label class="col-sm-3 control-label">失效时间</label>
                            <div class="col-sm-6">
                                <input type="text" id="expireTime" class="form-control" placeholder="">
                                <span class="fa fa-calendar form-control-feedback"></span>
                            </div>
                        </div>
                    </fieldset>
                    <div class="form-group">
                        <div class="col-sm-9 col-sm-offset-3">
                            <button type="submit" class="btn btn-primary">提交</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    //选择所属园区
    function selectEstate() {
        $('#whichEstate').select2();
        $.getScript('plugins/select2/select2_locale_zh-CN.js');
    }
    function userAddValidator() {
        $('#adduserForm').bootstrapValidator({
            message: '存在非法输入',
            fields: {
                username: {
                    message: '用户名不合法',
                    validators: {
                        notEmpty: {
                            message: '用户名不能为空'
                        },
                        stringLength: {
                            min: 2,
                            max: 10,
                            message: '用户名在2到10个字符之间'
                        }
                    }
                },
                address: {
                    validators: {
                        notEmpty: {
                            message: '地址不能为空'
                        }
                    }
                },
                carNum: {
                    validators: {
                        notEmpty: {
                            message: '车牌号不能为空'
                        },
                        regexp: {
                            regexp: /^[0-9a-zA-Z]{5}(;[0-9a-zA-Z]{5})*$/,
                            message: '车牌号不合法'
                        }
                    }
                },
                phoneNumber: {
                    validators: {
                        notEmpty: {
                            message: '电话号码不能为空'
                        },
                        regexp: {
                            regexp: /^[0-9]{8,11}$/,
                            message: '电话号码不合法'
                        }
                    }
                }
            }
        });
    }
    $(document).ready(function () {
        //初始化日期选择器
        TinyMCEStart('#wysiwig_simple', null);
        $('#liveDate').datepicker({
            setDate: new Date(), dateFormat: "yy-mm-dd",
            showButtonPanel: true,
            closeText: "关闭",
            yearSuffix: '年',
            currentText: '今天',
            showMonthAfterYear: true,
            monthNames: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
            dayNames: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
            dayNamesShort: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],
            dayNamesMin: ['日', '一', '二', '三', '四', '五', '六']
        });
        LoadSelect2Script(selectEstate);
        LoadBootstrapValidatorScript(userAddValidator);
    });
</script>
